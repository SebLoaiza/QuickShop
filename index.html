<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Quick Shop</title>
    <link rel="icon" type="image/x-icon" href="./resources/images/Logo-simple.svg" />
    <link rel="stylesheet" href="./resources/css/style.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
    <div id="navbar">
        <img id="logo" src="./resources/images/logo.svg" alt="Logo" />

        <div id="navbar-wrap">
            <span id="search-bar">
                <input type="text" id="search-input" placeholder="Search products..." />
                <button class="search-button" aria-label="Search">
                    <img src="./resources/images/Search.svg" alt="Search Icon" />
                </button>

                <button id="shopping-cart" onclick="window.location.href = './resources/php/cart.php';">
                    <img src="./resources/images/Cart.svg" alt="Cart" />
                    <label>Go to Cart</label>
                </button>

                <div id="dropdown-menu">
                    <div id="dropdown-grid">
                        <div class="cell" onclick="querySearchBar('produce')">
                            <img src="./resources/images/produce-category.png" alt="Produce" />
                            <p>Produce</p>
                        </div>
                        <div class="cell" onclick="querySearchBar('school supplies')">
                            <img src="./resources/images/school-category.png" alt="School Supplies" />
                            <p>School Supplies</p>
                        </div>
                        <div class="cell" onclick="querySearchBar('beverages')">
                            <img src="./resources/images/drinks-category.png" alt="Beverages" />
                            <p>Beverages</p>
                        </div>
                        <div class="cell" onclick="querySearchBar('household essentials')">
                            <img src="./resources/images/household-category.png" alt="Household Essentials" />
                            <p>Household Essentials</p>
                        </div>
                        <div class="cell" onclick="querySearchBar('meat')">
                            <img src="./resources/images/meat-category.png" alt="Meat" />
                            <p>Meat</p>
                        </div>
                        <div class="cell" onclick="querySearchBar('cleaning supplies')">
                            <img src="./resources/images/cleaning-category.png" alt="Cleaning Supplies" />
                            <p>Cleaning Supplies</p>
                        </div>
                    </div>
                </div>
            </span>

            <div class="widgets">
                <a onclick="window.scrollTo({top: document.body.scrollHeight, behavior: 'smooth'});">About</a>
                <a href="mailto:Chubaloid@gmail.com" target="_blank">Contact</a>

                <!-- Static links for demo - no login state -->
                <a href="./resources/php/login.php">Login</a>
                <a href="./resources/php/logout.php">Logout</a>
            </div>
        </div>
    </div>

    <div id="slider-container">
        <div id="slides">
            <img class="slide active" src="./resources/images/feast.jpg" alt="feast image" />
            <img class="slide" src="./resources/images/freshFoods.jpg" alt="fresh foods" />
            <img class="slide" src="./resources/images/bbq.jpg" alt="bbq image" />

            <div id="slide-overlay">
                <h1>Beat the Heat &amp; the Prices!</h1>
                <p>Easily browse catalogs of local stores to get the best deals and save big on your Summer Bar-B-Que's</p>
                <button onclick="querySearchBar('thanksgiving')">
                    <img src="./resources/images/Catalogs.svg" alt="Search Now!" />
                </button>
            </div>
        </div>
        <hr />
    </div>

    <div id="info">
        <div class="info-card">
            <h1>DUMMY TEXT0</h1>
            <hr />
            <p>DUMMYTEXT0BODY</p>
        </div>
        <img src="./resources/images/produce.jpg" alt="produce" />
        <div class="info-card">
            <h1>DUMMY TEXT1</h1>
            <hr />
            <p>DUMMYTEXT1BODY</p>
        </div>

        <img src="./resources/images/school-supplies.jpg" alt="school supplies" />
        <div class="info-card">
            <h1>DUMMY TEXT2</h1>
            <hr />
            <p>DUMMY TEXT2BODY</p>
        </div>
        <img src="./resources/images/error.png" alt="placeholder" />
    </div>

    <footer>
        <p>&copy; 2025 Quick Shop. All rights reserved.</p>
    </footer>

    <script src="./resources/js/index.js"></script>
    <script>
        $(document).ready(() => {
            $('.search-button').on('click', function () {
                const searchTerm = $('#search-input').val();
                if (searchTerm.trim() !== '') {
                    window.location.href = `./html/search.html?q=${encodeURIComponent(searchTerm)}`;
                }
            });

            $('#search-input').on('keydown', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    const searchTerm = $(this).val();
                    if(searchTerm.trim() !== '') {
                        window.location.href = `./html/search.html?q=${encodeURIComponent(searchTerm)}`;
                    }
                }
            });
        });

        function querySearchBar(term) {
            window.location.href = `./html/search.html?q=${encodeURIComponent(term)}`;
        }
    </script>
</body>
</html>
